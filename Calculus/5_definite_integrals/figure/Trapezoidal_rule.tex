% 梯形法
\begin{tikzpicture}[scale=0.8]
  \begin{axis}[clip=false,xmin=0, xmax=5.5,ymin=0,ymax=5.5, grid=none,
    xtick=\empty, ytick=\empty, axis lines=middle,
    smooth, xlabel={$x$}, ylabel={$y$}]

    % 曲线
    \addplot[draw=red,domain=1:4.5] {0.3*sin(deg(2*x-3)) + 3.5};

    \draw [pattern=north east lines] (2.2,0) -- (2.2,3.796) -- (3.2,3.423) -- (3.2,0) -- (2.2,0);

    \node [below] at (2.2,0) {$x_{i-1}$};
    \node [left] at (2.2,1.9) {$y_{i-1}$};
    \node [above] at (2.2,3.796) {$M_{i-1}$};

    \node [below] at (3.2,0) {$x_i$};
    \node [right] at (3.2,1.9) {$y_i$};
    \node [above] at (3.2,3.423) {$M_i$};

    \node [below] at (4.2,3.268) {$y=f(x)$};

    % 原点
    \node [below left] at (0,0) {$O$};
  \end{axis}
\end{tikzpicture}
